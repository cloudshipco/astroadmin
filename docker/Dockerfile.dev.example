# Astro Dev Server Dockerfile
# Copy this to your Astro project as Dockerfile.dev
# Used for live preview in AstroAdmin

FROM node:20-alpine

WORKDIR /site

# Expose Astro dev server port
ENV HOST=0.0.0.0
EXPOSE 4321

# Install dependencies at startup (since volume mount overwrites image files)
# Then run Astro dev server
CMD sh -c "npm install && npm run dev -- --host"
